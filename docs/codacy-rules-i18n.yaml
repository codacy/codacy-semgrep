rules:
  - id: codacy.java.i18n.enforce-localized-output
    severity: WARNING
    languages:
      - java
    patterns:
      - pattern-either:
          # Detect direct string literals
          - pattern: System.out.println("...");
          - pattern: System.out.print("...");
          - pattern: System.err.println("...");
          - pattern: System.err.print("...");
          # Detect string concatenation
          - pattern: System.out.println($X + ...);
          - pattern: System.out.print($X + ...);
          - pattern: System.err.println($X + ...);
          - pattern: System.err.print($X + ...);
          # Detect String.format without ResourceBundle
          - pattern: System.out.println(String.format(...));
          - pattern: System.out.print(String.format(...));
      - pattern-not: System.out.println($BUNDLE.getString(...))
      - pattern-not: System.out.print($BUNDLE.getString(...))
      - pattern-not: System.err.println($BUNDLE.getString(...))
      - pattern-not: System.err.print($BUNDLE.getString(...))
      - pattern-not: System.out.println($BUNDLE.getObject(...))
      - pattern-not: System.out.print($BUNDLE.getObject(...))
      # Allow println without arguments (blank lines)
      - pattern-not: System.out.println()
      - pattern-not: System.err.println()
    message: >-
      Use localized messages instead of hardcoded strings. 
      System.out.println() should use ResourceBundle.getString() or equivalent localization method.
      Example: System.out.println(messages.getString("key")) where messages is of type java.util.ResourceBundle
    metadata:
      category: codestyle
      subcategory: i18n
      description: Enforces use of ResourceBundle for all user-facing output to ensure proper internationalization
      technology:
        - java
      impact: MEDIUM
      confidence: LOW
      likelihood: HIGH

  - id: codacy.js.i18n.no-hardcoded-alert-concat
    severity: WARNING
    languages:
      - js
      - ts
    pattern-either:
      # Direct hardcoded alert strings
      - pattern: alert("...")
      - pattern: window.alert("...")
      # String concatenation in alerts
      - pattern: alert("..." + ...)
      - pattern: alert(... + "...")
      - pattern: window.alert("..." + ...)
      - pattern: window.alert(... + "...")
    pattern-not: alert(t(...))
    message: >-
      Avoid hardcoded or concatenated strings in alerts. Use an i18n translation function (e.g., t("key")) with interpolation.
    metadata:
      category: codestyle
      subcategory: i18n
      description: Flags hardcoded and concatenated strings in alert dialogs to enforce localization
      technology:
        - javascript
        - typescript
      impact: MEDIUM
      confidence: LOW
      likelihood: HIGH

  - id: codacy.js.i18n.no-hardcoded-locale-date
    severity: WARNING
    languages:
      - js
      - ts
    pattern-regex: "\\.(toLocale(Date|Time)?String)\\(\"[^\"]+\""
    message: Avoid hardcoded locale strings in date/time formatting.
    metadata:
      category: codestyle
      subcategory: i18n
      description: Flags explicit locale strings in date/time formatting which can break localization
      technology:
        - javascript
        - typescript
      impact: MEDIUM
      confidence: LOW
      likelihood: HIGH

  - id: codacy.js.i18n.no-hardcoded-number-format
    severity: WARNING
    languages:
      - js
      - ts
    pattern-regex: "\\.toFixed\\([^)]*\\)"
    message: >-
      Avoid using toFixed for user-visible number formatting. Use locale-aware formatting or translation helpers.
    metadata:
      category: codestyle
      subcategory: i18n
      description: Flags toFixed used for UI number formatting; recommends locale-aware alternatives
      technology:
        - javascript
        - typescript
      impact: MEDIUM
      confidence: LOW
      likelihood: HIGH

  - id: codacy.js.i18n.no-raw-jsx-text
    severity: WARNING
    languages:
      - js
      - ts
    pattern-regex: "<(h1|h2|h3|h4|h5|h6|p|span|div|td|th)[^>]*>[^<{]*[A-Za-z][^<{]*</\\1>"
    message: >-
      Avoid raw text in JSX for user-facing content. Use i18n translation functions (e.g., t("key")) with interpolation.
    metadata:
      category: codestyle
      subcategory: i18n
      description: Flags raw text nodes in JSX elements to enforce localization of UI strings
      technology:
        - javascript
        - typescript
      impact: MEDIUM
      confidence: LOW
      likelihood: MEDIUM
  